<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel Jugador - Rugby Veteranos</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }
  body { background: #f5f6fa; }

  .container { max-width: 800px; margin: 50px auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  h2 { text-align: center; margin-bottom: 20px; color: #2c3e50; }
  .form-group { margin-bottom: 15px; }
  label { display: block; margin-bottom: 5px; font-weight: bold; }
  input, select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 6px; }
  .btn { background: #27ae60; color: white; padding: 10px 15px; border: none; border-radius: 6px; cursor: pointer; width: 100%; }
  .btn:hover { background: #219150; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background: #ecf0f1; }
</style>
</head>
<body>

<div class="container" id="registroContainer">
  <h2>Registro de Jugador</h2>
  <div class="form-group"><label>Nombre</label><input type="text" id="nombre"></div>
  <div class="form-group"><label>Apellido</label><input type="text" id="apellido"></div>
  <div class="form-group"><label>Fecha de nacimiento</label><input type="date" id="fechaNacimiento"></div>
  <div class="form-group"><label>Edad</label><input type="number" id="edad" readonly></div>
  <div class="form-group"><label>Sexo</label><select id="sexo"><option>Masculino</option><option>Femenino</option><option>Otro</option></select></div>
  <div class="form-group"><label>DNI (Usuario)</label><input type="text" id="dni"></div>
  <div class="form-group"><label>CUIT</label><input type="text" id="cuit"></div>
  <div class="form-group"><label>Calle</label><input type="text" id="calle"></div>
  <div class="form-group"><label>Número</label><input type="text" id="numero"></div>
  <div class="form-group"><label>Ciudad</label><input type="text" id="ciudad"></div>
  <div class="form-group"><label>Provincia</label><select id="provincia"><option>Provincia 1</option><option>Provincia 2</option><option>Provincia 3</option></select></div>
  <div class="form-group"><label>País</label><select id="pais"><option>Argentina</option><option>Brasil</option><option>Uruguay</option></select></div>
  <div class="form-group"><label>Teléfono</label><input type="text" id="telefono"></div>
  <div class="form-group"><label>Email</label><input type="email" id="email"></div>
  <div class="form-group"><label>Contraseña</label><input type="password" id="password"></div>
  <div class="form-group"><label>Repetir Contraseña</label><input type="password" id="passwordConfirm"></div>
  <button class="btn" onclick="registrarJugador()">Registrarse</button>
</div>

<div class="container" id="loginContainer" style="display:none;">
  <h2>Login Jugador</h2>
  <div class="form-group"><label>DNI</label><input type="text" id="loginDni"></div>
  <div class="form-group"><label>Contraseña</label><input type="password" id="loginPassword"></div>
  <button class="btn" onclick="loginJugador()">Ingresar</button>
</div>

<div class="container" id="panelJugador" style="display:none;">
  <h2>Bienvenido, <span id="nombreJugador"></span></h2>
  <h3>Eventos Asignados</h3>
  <table>
    <thead>
      <tr><th>Evento</th><th>Fecha</th><th>Lugar</th><th>Confirmar Asistencia</th></tr>
    </thead>
    <tbody id="eventosTabla">
      <!-- Eventos se llenarán desde Sheets -->
    </tbody>
  </table>

  <h3>Resumen de Pagos</h3>
  <table>
    <thead>
      <tr><th>Concepto</th><th>Subtotal</th><th>Pagado</th><th>Saldo</th></tr>
    </thead>
    <tbody id="pagosTabla">
      <!-- Pagos se llenarán desde Sheets -->
    </tbody>
  </table>
</div>

<script>
  // Calcular edad
  document.getElementById('fechaNacimiento').addEventListener('change', function(){
    const fecha = new Date(this.value);
    const hoy = new Date();
    let edad = hoy.getFullYear() - fecha.getFullYear();
    const m = hoy.getMonth() - fecha.getMonth();
    if (m < 0 || (m === 0 && hoy.getDate() < fecha.getDate())) edad--;
    document.getElementById('edad').value = edad;
  });

  function registrarJugador(){
    const pass = document.getElementById('password').value;
    const pass2 = document.getElementById('passwordConfirm').value;
    if(pass !== pass2){ alert('Las contraseñas no coinciden'); return; }
    alert('Registro exitoso!');
    // TODO: enviar datos a Google Sheets
    document.getElementById('registroContainer').style.display = 'none';
    document.getElementById('loginContainer').style.display = 'block';
  }

  function loginJugador(){
    const dni = document.getElementById('loginDni').value;
    const pass = document.getElementById('loginPassword').value;
    // TODO: validar con Google Sheets
    alert('Login exitoso');
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('panelJugador').style.display = 'block';
    document.getElementById('nombreJugador').innerText = 'Jugador';
    // TODO: cargar eventos y pagos desde Sheets
  }
</script>

</body>
</html>
